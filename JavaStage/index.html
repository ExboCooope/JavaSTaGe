<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <style type="text/css">
        input {position:absolute;top:490px;}
    </style>
    <title></title>
</head>
<body>
    <script src="STGCORE.js"></script>
    <script src="STGDISPLAY.js"></script>
    <script src="STGGLOBAL.js"></script>
    <script src="STGCONTROLLER.js"></script>
    <script src="STGMATH.js"></script>
    <script src="STGBULLET.js"></script>
    <script src="STGREPLAY.js"></script>
    <script src="STGMULTIPLAYER.js"></script>
    <script src="WebGL/shaders.js"></script>
    <script src="WebGL/rendertarget.js"></script>
    <script src="WebGL/EMatrix.js"></script>
    <script src="WebGL/EMesh.js"></script>
    <script src="GAME/default_lib.js"></script>
    <script src="GAME/default_bullets.js"></script>
    <script src="GAME/default_graphics.js"></script>
    <script src="GAME/default_player_script.js"></script>
    <script src="GAME/default_pause_script.js"></script>
    <script src="GAME/default_menu_script.js"></script>
    <script src="GAME/default_system_script.js"></script>
    <script src="GAME/default_multiplayer_script.js"></script>
    <script src="GAME/default_ui.js"></script>
    <script src="GAME/default_3d_shader.js"></script>
    <script src="GAME/stageA1.js"></script>
    <script src="GAME/stagePressureTest.js"></script>
    <script src="GAME/stagePressureTest2.js"></script>
    <script src="GAME/Enemy01.js"></script>
    <script src="GAME/default_item_script.js"></script>
    <script src="bg/game_background.js"></script>
    <script src="res/resource_holder.js"></script>
<script>
    stg_menu_script=default_menu_script;
    stgStart();
    //_debug2D03();
    /*
    var a=stgCreateCanvas("a",640,480,stg_const.TEX_CANVAS3D);
    stgShowCanvas("a");
    webglCreateFromCanvas(a);
    webglCompileShader(WebGLShader.SpriteShaderSimple);
    _webGlUniformInput(WebGLShader.SpriteShaderSimple,"uWindow",webgl2DMatrix(640,480));
    var dma;
    var test_texture=createImage("texture.png");
    test_texture.onload=function() {
        stg_textures.ts=test_texture;
        test_texture.gltex = _gl.createTexture();
        _gl.bindTexture(_gl.TEXTURE_2D, test_texture.gltex);
        _gl.texImage2D(_gl.TEXTURE_2D, 0, _gl.RGBA, _gl.RGBA, _gl.UNSIGNED_BYTE, test_texture);
        _gl.texParameteri(_gl.TEXTURE_2D, _gl.TEXTURE_MIN_FILTER, _gl.NEAREST);
        _gl.texParameteri(_gl.TEXTURE_2D, _gl.TEXTURE_MAG_FILTER, _gl.NEAREST);
       // _gl.texParameteri(_gl.TEXTURE_2D, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE);
       // _gl.texParameteri(_gl.TEXTURE_2D, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE);
        _gl.generateMipmap(_gl.TEXTURE_2D);
        _gl.activeTexture(_gl.TEXTURE0);
        _webGlUniformInput(WebGLShader.SpriteShaderSimple, "texture", 0);
        dma = new WebglDMA(WebGLShader.SpriteShaderSimple, 5);
        dma.objectParser = shader1_object_parser;

        var test_object;
       var t= renderCreate2DTemplateA1("1","ts",0,0,16,16,0,0,0,1);
        test_object=new_test();
        dma.frameStart();
        test_object.pos=[16,16,0];
        test_object.rotate=[0,0,PI/7];
        _renderApply2DTemplate(test_object.render,t,0);
        test_object.render.aUVT=webglTextureAssign(null,test_object.render.uvt,32,32);
        dma.parseObject(test_object);

        var rt=0;
        var e=function() {
            dma.frameStart();
            rt+=0.1;
            test_object.rotate = [0, 0, 0];
            dma.parseObject(test_object);
            dma.draw();
           // requestAnimationFrame(e);
        };
        requestAnimationFrame(e);
    };
    /*
    document.body.onkeydown=function(e){
        console.log(e.keyCode);
        if(e.keyCode==70){
            document.body.webkitRequestFullScreen();

        }
        if(e.keyCode==69){
            document.webkitCancelFullScreen();
        }
    };
*/


</script>
    <input class="rpy" type="file" onchange="upload(this.files[0])" />
</body>
</html>